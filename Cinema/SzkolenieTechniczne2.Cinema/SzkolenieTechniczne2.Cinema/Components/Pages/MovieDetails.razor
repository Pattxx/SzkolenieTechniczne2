@page "/movies/details/{MovieId:long}"
@using MediatR
@inject IMediator Mediator
<div class="container mt-4">
<div class="card shadow rounded">
<div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
<h4 class="mb-0">&#127916; Szczegóły filmu</h4>
<button class="btn btn-sm btn-outline-light" @onclick="GoBack">
<i class="bi bi-arrow-left"></i> Powrót
</button>
</div>
<div class="card-body">
@if (Details == null)
{
<div class="text-center my-5">
<div class="spinner-border text-primary" role="status">
<span class="visually-hidden">Ładowanie...</span>
</div>
</div>
}
else
{
<dl class="row">
<dt class="col-sm-3">Tytuł:</dt>
<dd class="col-sm-9">@Details.Name</dd>

         <dt class="col-sm-3">Rok produkcji:</dt>
         <dd class="col-sm-9">@Details.Year</dd>

         <dt class="col-sm-3">Czas trwania:</dt>
         <dd class="col-sm-9">@Details.SeanceTime min</dd>

</dl>
<h5 class="mt-4">&#128338; Nadchodzące seanse</h5>
@if (Details.Seances?.Any() == true)
{
<ul class="list-group">
@foreach (var s in Details.Seances)
{
<li class="list-group-item">
@s.Date.ToString("dd.MM.yyyy HH:mm")
</li>
}
</ul>
}
else
{
<p class="text-muted">Brak zaplanowanych seansów.</p>
}
}
</div>
    </div>
</div>